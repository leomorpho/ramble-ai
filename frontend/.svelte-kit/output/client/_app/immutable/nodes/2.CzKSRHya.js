import"../chunks/CWj6FrbW.js";import{o as oe,r as se,s as k}from"../chunks/DB07etuJ.js";import{p as ie,s as C,a as le,f as p,b as a,c as de,d as o,g as s,h as i,i as J,n as D,t as F,r,j as M,k as e,u as ne}from"../chunks/U--zayAP.js";import{i as R}from"../chunks/Bxce8gUl.js";import{R as ce,G as ve,D as pe,B as K,a as ue,b as ge,c as fe,d as me,r as _e,e as xe,f as V,C as he,g as $e,s as be}from"../chunks/Bx5FpgpX.js";var ye=p("<!> <!>",1),je=p('<!> <div class="grid gap-4 py-4"><div class="grid grid-cols-4 items-center gap-4"><label for="name" class="text-right">Name</label> <input id="name" class="col-span-3 px-3 py-2 border border-input rounded-md bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-ring" placeholder="Enter project name"/></div> <div class="grid grid-cols-4 items-center gap-4"><label for="description" class="text-right">Description</label> <textarea id="description" class="col-span-3 px-3 py-2 border border-input rounded-md bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-ring resize-none" rows="3" placeholder="Enter project description"></textarea></div></div> <!>',1),Pe=p("<!> <!>",1),we=p('<div class="bg-destructive/10 text-destructive border border-destructive/20 rounded-lg p-4"><p class="font-medium">Error</p> <p class="text-sm"> </p> <!></div>'),ke=p('<div class="text-center py-12 text-muted-foreground"><p class="text-lg">Loading projects...</p></div>'),Ce=p('<div class="text-center py-12 text-muted-foreground"><p class="text-lg">No projects yet</p> <p class="text-sm">Create your first project to get started</p></div>'),De=p('<p class="text-muted-foreground mb-4 line-clamp-2"> </p>'),Ne=p('<a class="bg-card text-card-foreground p-6 rounded-lg border shadow-sm hover:shadow-md transition-shadow duration-200 block group"><div class="flex justify-between items-start mb-2"><h3 class="text-xl font-semibold group-hover:text-primary transition-colors duration-200"> </h3> <svg class="w-4 h-4 text-muted-foreground group-hover:text-primary transition-colors duration-200" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg></div> <!> <div class="text-sm text-muted-foreground space-y-1"><p> </p> <p class="text-xs truncate"> </p></div></a>'),Ee=p('<div class="grid gap-4 md:grid-cols-2 lg:grid-cols-3"></div>'),Fe=p('<main class="min-h-screen bg-background text-foreground p-8"><div class="max-w-4xl mx-auto space-y-6"><div class="flex justify-between items-center"><h1 class="text-3xl font-bold text-primary">Projects</h1> <!></div> <!> <!></div></main>');function Re(W,X){ie(X,!0);let N=C(le([])),L=C(!1),h=C(""),B=C(""),_=C(!1),$=C("");oe(async()=>{await Q()});async function Q(){try{o(_,!0),o($,"");const t=await ve();o(N,t||[],!0)}catch(t){console.error("Failed to load projects:",t),o($,"Failed to load projects")}finally{o(_,!1)}}async function Y(){if(e(h).trim())try{o(_,!0),o($,"");const t=await he(e(h).trim(),e(B).trim());e(N).push(t),o(h,""),o(B,""),o(L,!1)}catch(t){console.error("Failed to create project:",t),o($,"Failed to create project")}finally{o(_,!1)}}var O=Fe(),S=s(O),T=s(S),Z=i(s(T),2);ce(Z,{get open(){return e(L)},set open(t){o(L,t,!0)},children:(t,g)=>{var f=Pe(),b=J(f);pe(b,{children:(d,y)=>{K(d,{children:(l,m)=>{D();var u=F("Create New Project");a(l,u)},$$slots:{default:!0}})},$$slots:{default:!0}});var c=i(b,2);ue(c,{class:"sm:max-w-[425px]",children:(d,y)=>{var l=je(),m=J(l);ge(m,{children:(n,q)=>{var x=ye(),P=J(x);fe(P,{children:(v,H)=>{D();var I=F("Create New Project");a(v,I)},$$slots:{default:!0}});var w=i(P,2);me(w,{children:(v,H)=>{D();var I=F("Enter the details for your new project.");a(v,I)},$$slots:{default:!0}}),a(n,x)},$$slots:{default:!0}});var u=i(m,2),j=s(u),z=i(s(j),2);_e(z),r(j);var E=i(j,2),A=i(s(E),2);se(A),r(E),r(u);var G=i(u,2);xe(G,{children:(n,q)=>{const x=ne(()=>!e(h).trim()||e(_));K(n,{onclick:Y,get disabled(){return e(x)},children:(P,w)=>{D();var v=F();M(()=>k(v,e(_)?"Creating...":"Create Project")),a(P,v)},$$slots:{default:!0}})},$$slots:{default:!0}}),V(z,()=>e(h),n=>o(h,n)),V(A,()=>e(B),n=>o(B,n)),a(d,l)},$$slots:{default:!0}}),a(t,f)},$$slots:{default:!0}}),r(T);var U=i(T,2);{var ee=t=>{var g=we(),f=i(s(g),2),b=s(f,!0);r(f);var c=i(f,2);K(c,{variant:"outline",size:"sm",class:"mt-2",onclick:Q,children:(d,y)=>{D();var l=F("Try Again");a(d,l)},$$slots:{default:!0}}),r(g),M(()=>k(b,e($))),a(t,g)};R(U,t=>{e($)&&t(ee)})}var te=i(U,2);{var re=t=>{var g=ke();a(t,g)},ae=(t,g)=>{{var f=c=>{var d=Ce();a(c,d)},b=c=>{var d=Ee();$e(d,21,()=>e(N),y=>y.id,(y,l)=>{var m=Ne(),u=s(m),j=s(u),z=s(j,!0);r(j),D(2),r(u);var E=i(u,2);{var A=w=>{var v=De(),H=s(v,!0);r(v),M(()=>k(H,e(l).description)),a(w,v)};R(E,w=>{e(l).description&&w(A)})}var G=i(E,2),n=s(G),q=s(n);r(n);var x=i(n,2),P=s(x);r(x),r(G),r(m),M(()=>{be(m,"href",`/projects/${e(l).id??""}`),k(z,e(l).name),k(q,`Created: ${e(l).createdAt??""}`),k(P,`Path: ${e(l).path??""}`)}),a(y,m)}),r(d),a(c,d)};R(t,c=>{e(N).length===0?c(f):c(b,!1)},g)}};R(te,t=>{e(_)&&e(N).length===0?t(re):t(ae,!1)})}r(S),r(O),a(W,O),de()}export{Re as component};
